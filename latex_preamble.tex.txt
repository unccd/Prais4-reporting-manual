\setcounter{secnumdepth}{-1}
\setcounter{tocdepth}{0}

% \usepackage[nofonts]{ctex}
\usepackage[UTF8]{ctex}
\usepackage{caption}
\usepackage{lscape}
\usepackage{array}
\usepackage[none]{hyphenat}
\usepackage[document]{ragged2e}
\usepackage{polyglossia}
\usepackage{xurl}                   % Improves line breaking of long URLs
\usepackage{fancyhdr}
\usepackage{titlesec}
\usepackage{titletoc}

% --- Attempts to improve font rendering ---
% \usepackage{unicode-math}
% \usepackage[defaultsans]{lato}
% \defaultfontfeatures[FandolSong]{Script=Default}
% --- Set local font path ---
% Since Sphinx copies the font files directly into the _build/latex/ directory,
% the path for fontspec should be '.' (current directory) or left empty.
% \defaultfontfeatures{Path=./, Extension={.ttf}}
%
% --- Main document font (Latin, Cyrillic, etc.) ---
% Choose Sans or Serif based on preference for primary text
% \setmainfont{NotoSans}[
%     Ligatures=TeX,
%     Scale=1.0,
%     Extension = .ttf,
%     UprightFont = *-Regular,
%     ItalicFont = *-Italic,
%     BoldFont = *-Bold,
%     BoldItalicFont = *-BoldItalic,
% ]
%
% --- Chinese Font ---
% \setCJKmainfont{NotoSansSC}[
%    UprightFont = *-Regular,
%    BoldFont = *-Bold,
%    Extension = .ttf,
%]
%
% --- Arabic Font ---
%\newfontfamily\arabicfont{NotoNaskhArabic}[
%    Script=Arabic,
%    Language=Default, % or specific language like "Arabic=Default"
%    UprightFont = *-Regular,
%    BoldFont = *-Bold,
%    Extension = .ttf,
%]
%
% \setmonofont{NotoSansMono-Regular}
% \setmathfont{Latin Modern Math}

\captionsetup{labelformat=empty} % Remove automatic figure/table numbers
% \protected\def\sphinxstyletheadfamily {\bfseries} % Bold table headers
% \renewcommand{\rowcolors}{} % Disable alternating row colors in tables

\titleformat{\chapter}[display]
    {\bfseries\fontsize{16}{14}\bfseries\color{black}}
    {\chaptertitlename\ \thechapter}    % Label content
    {16pt}                              % Space between label and title
    {\MakeUppercase}                    % Before code
\titleformat{\section}[display]
    {\bfseries\fontsize{14}{12}\bfseries\color{black}}
    {\sectiontitlename\ \thesection}
    {14pt}{}
\titleformat{\subsection}[display]
    {\bfseries\fontsize{12}{10}\bfseries\color{black}}
    {\sectiontitlename\ \thesection}
    {12pt}{}
\titleformat{\subsubsection}[display]
    {\normalfont\fontsize{12}{10}\normalfont\color{black}}
    {\sectiontitlename\ \thesection}
    {11pt}{}

\sphinxsetup{%
    InnerLinkColor={rgb}{0,0,0},
    OuterLinkColor={rgb}{0,0.4,0.72}
}
% --- Fancy Header/Footer ---
\fancyhf{}                 % Clear default headers/footers
\fancypagestyle{normal}{   % Redefine the 'normal' page style
    \fancyhf{}             % Clear headers/footers for normal page style
    \fancyhead{}
    \fancyfoot{}
    \fancyfoot[LE,RO]{\thepage} % Page number on left-even, right-odd footer
}